
;(function($,window,document){'use strict';var _isAnimating=false;function MobileNavigation(){this.selectors={toggle:'.js-mobile-navigation-toggle',navigation:'.js-mobile-navigation',container:document.body,close:'.js-mobile-navigation-close',previous:'.js-mobile-navigation-previous',next:'.js-mobile-navigation-next'};this.classes={show:'show-mobile-navigation'};this.init().bind();}
MobileNavigation.prototype.init=function(){this.$toggle=$(this.selectors.toggle);this.$navigation=$(this.selectors.navigation);this.$container=$(this.selectors.container);return this;};MobileNavigation.prototype.bind=function(){var _this=this;this.$toggle.on('click',function(e){e.preventDefault();if(_this.$container.hasClass(_this.classes.show)){_this.close();}else{_this.open();}});this.$container.on('click',this.selectors.close,function(e){e.preventDefault();_this.close();});this.$navigation.on('click','a[href^="#"]',function(e){var level=parseInt($(this).attr('href').substring(1),10);if(!isNaN(level)&&level>0){e.preventDefault();_this.$container.attr('data-mobile-navigation-level',level);}}).on('click',this.selectors.previous,$.proxy(this.previous,this)).on('click',this.selectors.next,$.proxy(this.next,this));return this;};MobileNavigation.prototype.open=function(){this.$container.addClass(this.classes.show);};MobileNavigation.prototype.close=function(){var _this=this;this.$container.on('webkitTransitionEnd transitionend',function(){_this.$container.removeAttr('data-mobile-navigation-level');});this.$container.removeClass(this.classes.show);};MobileNavigation.prototype.go=function(level){var level=parseInt(level,10);if(!isNaN(level)&&level>0){this.$container.attr('data-mobile-navigation-level',level);_isAnimating=true;this.$navigation.on('webkitTransitionEnd transitionend',function(){_isAnimating=false;});}};MobileNavigation.prototype.next=function(){if(_isAnimating){return false;}
var level=parseInt(this.$container.attr('data-mobile-navigation-level'),10);this.go(level+1);};MobileNavigation.prototype.previous=function(){if(_isAnimating){return false;}
var level=parseInt(this.$container.attr('data-mobile-navigation-level'),10);this.go(level-1);};window.MobileNavigation=MobileNavigation;}(jQuery,window,document));